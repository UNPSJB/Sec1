{% extends 'main.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block container %}
<div>
    <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xl-12 col-xl-12">  
    <div class="container-listados my-3"> 
              <div class="table-responsive card shadow p-3"> 
                <h3>Listado de Dictados</h3>
                  <table class="table table-striped table-responsive">
                      <thead>
                          <tr>
                            <th scope="col">Aulas</th>
                            <th scope="col">Curso</th>
                            <th scope="col">Profesor</th>
                            <th scope="col">Costo</th> 
                            <th scope="col">Inicia</th> 
                            <th scope="col">Termina</th>   
                          </tr>
                      </thead>
                      <tbody>
                        <tr>
                          {% for dictado in object_list %}
                          <tr class="bg-transition">
                            
                            <td>{% for aula in dictado.aulas.all %} {{ aula }} {% endfor %}</td>  
                            <td>{{ dictado.curso }}</td>
                            <td>{% for titularidad in dictado.titularidad_set.all %} 
                                  {% if titularidad.hasta is None %}  
                                    {{ titularidad.profesor }}
                                  {% endif %}
                                {% endfor %}</td>
                            <td>${{ dictado.costo }}</td>
                            <td>{{ dictado.inicio }}</td>
                            <td>{{ dictado.fin }}</td>
                            <td><a href="{% url 'detallarDictado' dictado.pk %}" class="btn btn-success"> Ver </a></td>             
                                                                       
                          </tr>
                          {% endfor %}  
                      </tbody>
                  </table>
                </div> 
            </div>
        </div>
    </div>
</div>
{% endblock %}